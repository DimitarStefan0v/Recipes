function createTagWithAttribute(n,t,i){let r=document.createElement(n);return r.setAttribute(t,i),r}const LoadComments=function(){function s(n){for(const n of n){let r=createTagWithAttribute("article","class","recipe-comment-wrapper"),u=createTagWithAttribute("article","class","recipe-comment-wrapper-header"),f=createTagWithAttribute("p","class","recipe-comment-wrapper-header-author");f.textContent=n.addedByUserUserName;u.appendChild(f);let e=createTagWithAttribute("p","class","recipe-comment-wrapper-header-date");e.textContent=n.dateAsString;u.appendChild(e);r.appendChild(u);let o=createTagWithAttribute("article","class","recipe-comment-wrapper-content"),s=createTagWithAttribute("p","class","recipe-comment-wrapper-content-text");s.textContent=n.content;o.appendChild(s);r.appendChild(o);t.insertBefore(r,i)}}const r=document.getElementById("toggle-comments");let t=document.querySelector(".comments-wrapper"),u=document.getElementById("comments-count").value,f=document.getElementById("comments-per-page-count").value,e=document.getElementById("comments-pages-count").value,o=document.getElementById("recipe-id").value,n=1;const i=document.getElementById("show-more-comments");let h=n<e;r.addEventListener("click",async i=>{if(i.preventDefault(),t.style.display=="block"?(t.style.display="none",r.textContent=`Покажи коментари(${u})`):(t.style.display="block",r.textContent=`Скрий коментарите(${u})`),n==1){const r=`/Comments/LoadRecipeComments/${o}?page=${n}&itemsPerFetch=${f}`,u=await fetch(r),i=await u.json();if(i.length==0){let n=createTagWithAttribute("h3","class","text-center");n.textContent="Все още няма коментари към рецептата.";t.appendChild(n)}s(i);n+=1}});h==!0?i.addEventListener("click",async()=>{const r=`/Comments/LoadRecipeComments/${o}?page=${n}&itemsPerFetch=${f}`;let t=n<e;t==!1&&(i.style.display="none");n+=1;const u=await fetch(r),h=await u.json();s(h);t==!1&&(i.style.display="none")}):i.style.display="none"};window.onload=LoadComments();