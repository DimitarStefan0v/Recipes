const LoadComments=function(){function h(n){for(const n of n){let u=t("article","class","recipe-comment-wrapper"),f=t("article","class","recipe-comment-wrapper-header"),e=t("p","class","recipe-comment-wrapper-header-author");e.textContent=n.addedByUserUserName;f.appendChild(e);let o=t("p","class","recipe-comment-wrapper-header-date");o.textContent=n.dateAsForRecipeCommentString;f.appendChild(o);u.appendChild(f);let s=t("article","class","recipe-comment-wrapper-content"),h=t("p","class","recipe-comment-wrapper-content-text");h.textContent=n.content;s.appendChild(h);u.appendChild(s);i.insertBefore(u,r)}}function t(n,t,i){let r=document.createElement(n);return r.setAttribute(t,i),r}const u=document.getElementById("toggle-comments");let i=document.querySelector(".comments-wrapper"),f=document.getElementById("comments-count").value,e=document.getElementById("comments-per-page-count").value,o=document.getElementById("comments-pages-count").value,s=document.getElementById("recipe-id").value,n=1;const r=document.getElementById("show-more-comments");let c=n<o;u.addEventListener("click",async r=>{if(r.preventDefault(),i.style.display=="block"?(i.style.display="none",u.textContent=`Покажи коментари(${f})`):(i.style.display="block",u.textContent=`Скрий коментарите(${f})`),n==1){const u=`/Comments/LoadRecipeComments/${s}?page=${n}&itemsPerFetch=${e}`,f=await fetch(u),r=await f.json();if(r.length==0){let n=t("h3","class","text-center");n.textContent="Все още няма коментари към рецептата.";i.appendChild(n)}h(r);n+=1}});c==!0?r.addEventListener("click",async()=>{const i=`/Comments/LoadRecipeComments/${s}?page=${n}&itemsPerFetch=${e}`;let t=n<o;t==!1&&(r.style.display="none");n+=1;const u=await fetch(i),f=await u.json();h(f);t==!1&&(r.style.display="none")}):r.style.display="none"};window.onload=LoadComments();